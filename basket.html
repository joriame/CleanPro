<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CleanPro</title>
  <link rel="stylesheet" href="assets/css/basket.css">
</head>

<body>
  <header class="header">
    <div class="header-container">
      <a href="index.html" class="logo">CleanPro</a>
      <nav class="menu">
        <a href="index.html" class="menu-link">Главная</a>
        <a href="catalog.html" class="menu-link">Услуги</a>
        <a href="about.html" class="menu-link">О нас</a>
      </nav>
      <div class="desktop-icons">
        <a href="basket.html" class="icon-link">
          <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M39.6742 11.0938C39.5595 10.9309 39.4074 10.798 39.2307 10.7062C39.054 10.6144 38.8578 10.5665 38.6586 10.5663H34.7624L26.7492 3.73695C25.7736 2.76133 24.1898 2.76008 23.2142 3.73695L15.3374 10.5663H12.1305L10.1224 3.64133C9.33489 0.914454 7.4636 0.620079 6.6961 0.620079H1.3411C0.654854 0.620079 0.0998535 1.1757 0.0998535 1.86133C0.0998535 2.54695 0.655439 3.10254 1.34106 3.10254H6.69481C6.86419 3.10254 7.38106 3.10254 7.7336 4.32066L14.6417 29.7088C14.7917 30.2444 15.2799 30.6144 15.8367 30.6144H32.7105C33.2342 30.6144 33.7017 30.2862 33.8786 29.7931L39.8261 12.2275C39.963 11.8469 39.9061 11.4231 39.6742 11.0938H39.6742ZM24.9819 5.50508L30.9206 10.567H19.0413L24.9819 5.50508ZM31.8369 28.1325H16.7788L12.8275 13.0494H36.8938L31.8369 28.1325ZM29.375 33.13C27.6488 33.13 26.25 34.5288 26.25 36.255C26.25 37.9813 27.6488 39.38 29.375 39.38C31.1013 39.38 32.5 37.9813 32.5 36.255C32.5 34.5288 31.1013 33.13 29.375 33.13ZM18.125 33.13C16.3988 33.13 15 34.5288 15 36.255C15 37.9813 16.3988 39.38 18.125 39.38C19.8513 39.38 21.25 37.9813 21.25 36.255C21.25 34.5288 19.8513 33.13 18.125 33.13Z"
              fill="black" />
          </svg>
        </a>
        <a href="auth.html" class="icon-link">
          <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M20 21.6667C24.6023 21.6667 28.3333 17.9357 28.3333 13.3333C28.3333 8.73096 24.6023 5 20 5C15.3976 5 11.6666 8.73096 11.6666 13.3333C11.6666 17.9357 15.3976 21.6667 20 21.6667Z"
              stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            <path
              d="M33.3333 35C33.3333 31.4638 31.9285 28.0724 29.428 25.5719C26.9276 23.0714 23.5362 21.6667 20 21.6667C16.4637 21.6667 13.0724 23.0714 10.5719 25.5719C8.07138 28.0724 6.66663 31.4638 6.66663 35"
              stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
          </svg>
        </a>
      </div>


      <button class="burger-btn">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </header>

  <!-- Бургер меню -->
  <div class="mobile-menu">
    <nav class="mobile-nav">
      <a href="index.html" class="mobile-link">Главная</a>
      <a href="catalog.html" class="mobile-link">Услуги</a>
      <a href="about.html" class="mobile-link">О нас</a>
    </nav>
    <div class="mobile-icons">
      <a href="#" class="mobile-icon-link">
        <svg width="30" height="30" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M39.6742 11.0938C39.5595 10.9309 39.4074 10.798 39.2307 10.7062C39.054 10.6144 38.8578 10.5665 38.6586 10.5663H34.7624L26.7492 3.73695C25.7736 2.76133 24.1898 2.76008 23.2142 3.73695L15.3374 10.5663H12.1305L10.1224 3.64133C9.33489 0.914454 7.4636 0.620079 6.6961 0.620079H1.3411C0.654854 0.620079 0.0998535 1.1757 0.0998535 1.86133C0.0998535 2.54695 0.655439 3.10254 1.34106 3.10254H6.69481C6.86419 3.10254 7.38106 3.10254 7.7336 4.32066L14.6417 29.7088C14.7917 30.2444 15.2799 30.6144 15.8367 30.6144H32.7105C33.2342 30.6144 33.7017 30.2862 33.8786 29.7931L39.8261 12.2275C39.963 11.8469 39.9061 11.4231 39.6742 11.0938H39.6742ZM24.9819 5.50508L30.9206 10.567H19.0413L24.9819 5.50508ZM31.8369 28.1325H16.7788L12.8275 13.0494H36.8938L31.8369 28.1325ZM29.375 33.13C27.6488 33.13 26.25 34.5288 26.25 36.255C26.25 37.9813 27.6488 39.38 29.375 39.38C31.1013 39.38 32.5 37.9813 32.5 36.255C32.5 34.5288 31.1013 33.13 29.375 33.13ZM18.125 33.13C16.3988 33.13 15 34.5288 15 36.255C15 37.9813 16.3988 39.38 18.125 39.38C19.8513 39.38 21.25 37.9813 21.25 36.255C21.25 34.5288 19.8513 33.13 18.125 33.13Z"
            fill="black" />
        </svg>
        <span onclick="window.location.href='basket.html'">Корзина</span>
      </a>
      <a href="#" class="mobile-icon-link">
        <svg width="30" height="30" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M20 21.6667C24.6023 21.6667 28.3333 17.9357 28.3333 13.3333C28.3333 8.73096 24.6023 5 20 5C15.3976 5 11.6666 8.73096 11.6666 13.3333C11.6666 17.9357 15.3976 21.6667 20 21.6667Z"
            stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
          <path
            d="M33.3333 35C33.3333 31.4638 31.9285 28.0724 29.428 25.5719C26.9276 23.0714 23.5362 21.6667 20 21.6667C16.4637 21.6667 13.0724 23.0714 10.5719 25.5719C8.07138 28.0724 6.66663 31.4638 6.66663 35"
            stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
        <span onclick="window.location.href='auth.html'">Профиль</span>
      </a>
    </div>
  </div>


  <!-- Секция корзины -->
  <section class="basket-section">
    <h2 class="section-title">Корзина</h2>
    <div class="basket-container">
      <div class="basket-items">
        <div class="basket-item">
          <img class="basket-img" src="assets/img/basket1.png" alt="service">
          <div class="item-info">
            <h3 class="item-title">Генеральная уборка квартиры</h3>
            <p class="item-desc">Комплексная уборка всех помещений, включая мытье окон и чистку мебели</p>
            <div class="item-bottom">
              <div class="btns">
                <button type="button" class="minus-btn"><img src="assets/icons/minus.svg" alt="minus"></button>
                <span class="count">1</span>
                <button type="button" class="plus-btn"><img src="assets/icons/plus.svg" alt="plus"></button>
              </div>
              <div class="trash">
                <img src="assets/icons/trash.svg" alt="trash" class="delete-btn">
                <p class="item-price">4000 ₽</p>
              </div>
            </div>
          </div>
        </div>

        <div class="basket-item">
          <img class="basket-img" src="assets/img/basket2.png" alt="service">
          <div class="item-info">
            <h3 class="item-title">Дезинфекция помещений</h3>
            <p class="item-desc">Обеззараживание поверхностей, уничтожение вирусов, бактерий, грибков, защита от
              инфекций.</p>
            <div class="item-bottom">
              <div class="btns">
                <button type="button" class="minus-btn"><img src="assets/icons/minus.svg" alt="minus"></button>
                <span class="count">20м<sup>2</sup></span>
                <button type="button" class="plus-btn"><img src="assets/icons/plus.svg" alt="plus"></button>
              </div>
              <div class="trash">
                <img src="assets/icons/trash.svg" alt="trash" class="delete-btn">
                <p class="item-price">3000 ₽</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="total-price">
        <div class="total-price-container">
          <h3 class="total-price-title">Итого</h3>
          <div class="sum">
            <p class="sum-text">Сумма</p>
            <p class="total-sum">7000 ₽</p>
          </div>
          <div class="sale">
            <p class="sale-text">Скидка</p>
            <p class="total-sale">0 ₽</p>
          </div>
          <div class="total-line"></div>
          <div class="buy">
            <p class="buy-text">К оплате</p>
            <p class="total-buy">7000 ₽</p>
          </div>
          <button class="order-action" type="button">Оформить заказ</button>
        </div>
      </div>
    </div>
  </section>
  <script>
   document.addEventListener('DOMContentLoaded', function() {
  const basketItems = document.querySelectorAll('.basket-item');
  const totalSumElement = document.querySelector('.total-sum');
  const totalBuyElement = document.querySelector('.total-buy');
  const buyBtn = document.querySelector('.order-action');
  let totalSum = 0;
  function updateTotalSum() {
    totalSum = 0;

    document.querySelectorAll('.basket-item').forEach(item => {
      const countElement = item.querySelector('.count');
      const priceElement = item.querySelector('.item-price');
      const isSquareMeters = countElement.innerHTML.includes('<sup>');
      const count = parseInt(countElement.textContent);

      let itemTotal;

      if (isSquareMeters) {
        const basePrice = parseInt(item.dataset.basePrice) || 3000;
        const baseMeters = parseInt(item.dataset.baseMeters) || 20;
        const pricePerMeter = basePrice / baseMeters;
        itemTotal = count * pricePerMeter;
      } else {
        const unitPrice = parseInt(item.dataset.unitPrice) || 4000;
        itemTotal = count * unitPrice;
      }

      priceElement.textContent = `${Math.round(itemTotal)} ₽`;
      totalSum += itemTotal;
    });

    totalSumElement.textContent = `${Math.round(totalSum)} ₽`;
    totalBuyElement.textContent = `${Math.round(totalSum)} ₽`;
  }
  function buyOrder() {
    let orderInfo = "Ваш заказ:\n";
    let totalItems = 0;

    document.querySelectorAll('.basket-item').forEach(item => {
      const title = item.querySelector('.item-title').textContent;
      const count = item.querySelector('.count').textContent;
      const price = item.querySelector('.item-price').textContent;

      orderInfo += `${title} - ${count} (${price})\n`;
      totalItems++;
    });

    orderInfo += `\nИтого к оплате: ${totalBuyElement.textContent}`;

    if (totalItems > 0) {
      alert(orderInfo);
    } else {
      alert("Ваша корзина пуста! Добавьте товары перед оформлением заказа.");
    }
  }
  basketItems.forEach(item => {
    const plusBtn = item.querySelector('.plus-btn');
    const minusBtn = item.querySelector('.minus-btn');
    const deleteBtn = item.querySelector('.delete-btn');
    const countElement = item.querySelector('.count');
    const isSquareMeters = countElement.innerHTML.includes('<sup>');

    plusBtn.addEventListener('click', function() {
      let count = parseInt(countElement.textContent);
      count += 1;

      if (isSquareMeters) {
        countElement.innerHTML = `${count}м<sup>2</sup>`;
      } else {
        countElement.textContent = count;
      }

      updateTotalSum();
    });

    minusBtn.addEventListener('click', function() {
      let count = parseInt(countElement.textContent);
      if (count > 1) {
        count -= 1;

        if (isSquareMeters) {
          countElement.innerHTML = `${count}м<sup>2</sup>`;
        } else {
          countElement.textContent = count;
        }

        updateTotalSum();
      }
    });

    deleteBtn.addEventListener('click', function() {
      item.remove();
      updateTotalSum();
    });
  });

  buyBtn.addEventListener('click', buyOrder);
  updateTotalSum();
});
  </script>








  <!-- Подвал -->
  <footer class="footer">
    <div class="footer-container">
      <div class="logo-block">
        <h2 class="footer-logo">CleanPro</h2>
        <p class="logo-desc">Профессиональные клининговые услуги для вашего дома и офиса</p>
      </div>
      <nav class="footer-contacts">
        <h2 class="contacts-title block-title">Контакты</h2>
        <a href="tel:79991234567" class="footer-contact-link"> <img src="assets/icons/telephone.svg"
            alt="tel">+7(999)123-45-67</a>
        <a href="mailto:info@cleanpro.ru" class="footer-contact-link"><img src="assets/icons/email.svg"
            alt="">info@cleanpro.ru</a>
        <a href="#https://yandex.ru/maps/-/CHfGRU4A" class="footer-contact-link"><img src="assets/icons/address.svg"
            alt="">г. Челябинск ул. Шабанова д.54</a>
      </nav>
      <div class="time-work">
        <h2 class=" time-work-title block-title">Время работы</h2>
        <p>Пн-пт: 8.00 - 20.00</p>
        <p>Сб-вс: 9.00 - 18.00</p>
      </div>
    </div>
    <div class="footer-line"></div>
    <p class="copyright">
      © 2024 CleanPro. Все права защищены.
    </p>
  </footer>
</body>
<script src="assets/js/burger.js"></script>

</html>